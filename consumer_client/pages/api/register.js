import { withSessionRoute } from "../../lib/withSession";
import prisma from '../../lib/prisma.ts';

export default withSessionRoute(registerRoute);

async function registerRoute(req, res) {

  const body = JSON.parse(req.body);
  var success = false;

  //Insert into database
  const user = await prisma.user.create({
    data: { username: body.username, password: body.password },
  })

  console.log(user)

  //Return json object with two values. One for whether login was successful, and one for the username
  res.send({success: success});
}