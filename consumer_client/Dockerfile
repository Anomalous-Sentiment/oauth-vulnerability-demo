FROM node:16-alpine AS base

WORKDIR /consumer_client
COPY package*.json .

RUN npm install
COPY . .

# Generate the custom prisma client for interacting with the database and store in node_modules
RUN npx prisma generate

EXPOSE 4000
CMD ["npm", "run", "dev"]