import Container from 'react-bootstrap/Container';
import Nav from 'react-bootstrap/Nav';
import Navbar from 'react-bootstrap/Navbar';
import React, { useContext } from 'react';
import { useRouter } from 'next/router';
import Link from 'next/link'
import Dropdown from 'react-bootstrap/Dropdown';
import DropdownButton from 'react-bootstrap/DropdownButton';
import 'bootstrap/dist/css/bootstrap.min.css';

export default function NavigationBar()
{
    //Used for keeping track of pathname so that navbar knows which key is active
    const router = useRouter();
    function logout()
    {
        fetch('/api/logout')
        .then(res => {
            router.push('/')
        })
    }

    return(
        <Navbar id='navbar' bg="dark" variant="dark">
            <Container>
                <Link href="/" passHref>
                    <Navbar.Brand>Consumer App</Navbar.Brand>
                </Link>
            <Nav activeKey={router.pathname} className="me-auto">
                <Link href="/" passHref>
                    <Nav.Link>Home</Nav.Link>
                </Link>
                <Link href="/resources" passHref>
                    <Nav.Link>Resources</Nav.Link>
                </Link>
            </Nav>

            <DropdownButton id="user-dropdown-button" variant="secondary" title={'Options'}>
                <Dropdown.Item onClick={logout}>Logout</Dropdown.Item>
            </DropdownButton>
            </Container>
        </Navbar>
    )
}